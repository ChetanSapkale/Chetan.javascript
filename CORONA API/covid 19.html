<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h4>Covid-19</h4>
    <div id="header"></div>
</body>

</html>
<script>
    function covid() {
        fetch("http://localhost:3000/data")
           .then((res)=>(res.json()))
            .then((data) => cardlist(data.regional))
            .catch((err) => console.log(err))
    }
    covid()

    function cardlist(data) {
        let totalcard = data.map((el) => card(el.loc, el.confirmedCasesIndian, el.confirmedCasesForeign, el.discharged, el.deaths, el.totalConfirmed))
        document.getElementById("header").innerHTML = totalcard.join("")
    }

    
    function card(loc, confirmedCasesIndian, confirmedCasesForeign, discharged, deaths, totalConfirmed) {
        let div = `
            <div style="width:300px; border: 2px solid black; margin:5px;">
        <p>loc:${loc}</p>
        <p>confirmedCasesIndian:${confirmedCasesIndian}</p>
        <p>confirmedCasesForeign:${confirmedCasesForeign}</p>
        <p>discharged:${discharged}</p>
        <p>deaths:${deaths}</p>
        <p>totalConfirmed:${totalConfirmed}</p>
        </div>
            `
        return div
    }
</script>